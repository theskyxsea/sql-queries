SQL> SELECT DEPTNO , COUNT(*) FROM EMP WHERE JOB = 'SALESMAN' GROUP BY DEPTNO;

    DEPTNO   COUNT(*)
---------- ----------
        30          4

SQL> SELECT MGR FROM EMP WHERE DEPTNO IN ( SELECT DEPTNO FROM DEPT WHERE DNAME
  2  IN('RESEARCH','ACCOUNTING')) GROUP BY MGR HAVING COUNT(*)>=2;

       MGR
----------
      7839
      7566

SQL> SELECT LOC FROM DEPT WHERE DEPTNO IN (SELECT DEPTNO FROM EMP GROUP BY 
  2  DEPTNO HAVING COUNT(*)>4);

LOC
-------------
CHICAGO
DALLAS

SQL> SELECT ENAME , SAL*12 "ANNUAL SALARY" FROM EMP WHERE DEPTNO IN
  2  (SELECT DEPTNO FROM EMP GROUP BY DEPTNO HAVING COUNT(*)>=3 AND DEPTNO IN(30,20));

ENAME      ANNUAL SALARY
---------- -------------
JAMES              11400
TURNER             18000
BLAKE              34200
MARTIN             15000
WARD               15000
ALLEN              19200
FORD               36000
ADAMS              13200
SCOTT              36000
JONES              35700
SMITH               9600

11 rows selected.

SQL> SELECT DNAME FROM DEPT WHERE DEPTNO IN (SELECT DEPTNO FROM EMP GROUP BY DEPTNO 
  2  HAVING COUNT(*) BETWEEN 3 AND 5);

DNAME
--------------
RESEARCH
ACCOUNTING

SQL> SELECT DNAME FROM DEPT WHERE DEPTNO IN (SELECT DEPTNO FROM EMP GROUP BY DEPTNO 
  2  HAVING COUNT(*)>=3);

DNAME
--------------
SALES
RESEARCH
ACCOUNTING

SQL> SELECT * FROM EMP WHERE EMPNO IN (SELECT MGR FROM EMP WHERE DEPTNO IN (SELECT DEPTNO
  2  FROM DEPT WHERE DNAME IN ('RESEARCH','ACCOUNTING')) GROUP BY MGR HAVING COUNT(*)>=2);

     EMPNO ENAME      JOB              MGR HIREDATE         SAL       COMM     DEPTNO
---------- ---------- --------- ---------- --------- ---------- ---------- ----------
      7839 KING       PRESIDENT            17-NOV-81       5000                    10
      7566 JONES      MANAGER         7839 02-APR-81       2975                    20
